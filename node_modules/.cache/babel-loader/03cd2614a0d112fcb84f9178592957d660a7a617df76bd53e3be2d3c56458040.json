{"ast":null,"code":"import { shoeArr } from \"../../data\";\nlet initialState = {\n  shoeArr: shoeArr,\n  detail: shoeArr[0],\n  cart: []\n};\nexport let shoeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"VIEW_DETAIL\":\n      {\n        console.log(\"nhảy\", action.payload);\n        state.detail = action.payload;\n        return {\n          ...state\n        };\n      }\n    case \"ADD_SHOE\":\n      {\n        console.log(\"them\", action.payload);\n        let newCart = [...state.cart];\n        let index = newCart.findIndex(item => {\n          return item.id === action.payload.id;\n        });\n        if (index === -1) {\n          let newShoe = {\n            ...action.payload,\n            cartQuantity: 1\n          };\n          newCart.push(newShoe);\n        } else {\n          newCart[index].cartQuantity++;\n        }\n        return {\n          ...state,\n          cart: newCart\n        };\n      }\n    case \"DEL_SHOE\":\n      {\n        console.log(\"xoa\", action.payload);\n        let newCart = state.cart.filter(item => {\n          return item.id !== action.payload;\n        });\n        return {\n          ...state,\n          cart: newCart\n        };\n      }\n    case \"ADJ_QUANTITY\":\n      {\n        console.log(\"adj\", action.payload);\n        const {\n          shoeId,\n          quantity\n        } = action.payload;\n        const newCart = [...state.cart];\n        const index = newCart.findIndex(item => item.id === shoeId);\n        if (index !== -1) {\n          newCart[index].cartQuantity = newCart[index].cartQuantity + quantity || 1;\n        }\n        return {\n          ...state,\n          cart: newCart\n        };\n      }\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["shoeArr","initialState","detail","cart","shoeReducer","state","action","type","console","log","payload","newCart","index","findIndex","item","id","newShoe","cartQuantity","push","filter","shoeId","quantity"],"sources":["C:/Users/THANH PC/Desktop/1.Exercise/1.Main/9.React/4.React_ExShoe_Redux/src/Ex_Shoe_Redux/redux/reducer/shoe.js"],"sourcesContent":["import { shoeArr } from \"../../data\";\r\n\r\nlet initialState = {\r\n  shoeArr: shoeArr,\r\n  detail: shoeArr[0],\r\n  cart: [],\r\n};\r\n\r\nexport let shoeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"VIEW_DETAIL\": {\r\n      console.log(\"nhảy\", action.payload);\r\n      state.detail = action.payload;\r\n      return { ...state };\r\n    }\r\n    case \"ADD_SHOE\": {\r\n      console.log(\"them\", action.payload);\r\n\r\n      let newCart = [...state.cart];\r\n      let index = newCart.findIndex((item) => {\r\n        return item.id === action.payload.id;\r\n      });\r\n      if (index === -1) {\r\n        let newShoe = { ...action.payload, cartQuantity: 1 };\r\n        newCart.push(newShoe);\r\n      } else {\r\n        newCart[index].cartQuantity++;\r\n      }\r\n      return { ...state, cart: newCart };\r\n    }\r\n    case \"DEL_SHOE\": {\r\n      console.log(\"xoa\", action.payload);\r\n      let newCart = state.cart.filter((item) => {\r\n        return item.id !== action.payload;\r\n      });\r\n      return { ...state, cart: newCart };\r\n    }\r\n    case \"ADJ_QUANTITY\": {\r\n      console.log(\"adj\", action.payload);\r\n      const { shoeId, quantity } = action.payload;\r\n      const newCart = [...state.cart];\r\n      const index = newCart.findIndex((item) => item.id === shoeId);\r\n      if (index !== -1) {\r\n        newCart[index].cartQuantity =\r\n          newCart[index].cartQuantity + quantity || 1;\r\n      }\r\n      return { ...state, cart: newCart };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AAEpC,IAAIC,YAAY,GAAG;EACjBD,OAAO,EAAEA,OAAO;EAChBE,MAAM,EAAEF,OAAO,CAAC,CAAC,CAAC;EAClBG,IAAI,EAAE;AACR,CAAC;AAED,OAAO,IAAIC,WAAW,GAAGA,CAACC,KAAK,GAAGJ,YAAY,EAAEK,MAAM,KAAK;EACzD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAAE;QAClBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,MAAM,CAACI,OAAO,CAAC;QACnCL,KAAK,CAACH,MAAM,GAAGI,MAAM,CAACI,OAAO;QAC7B,OAAO;UAAE,GAAGL;QAAM,CAAC;MACrB;IACA,KAAK,UAAU;MAAE;QACfG,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,MAAM,CAACI,OAAO,CAAC;QAEnC,IAAIC,OAAO,GAAG,CAAC,GAAGN,KAAK,CAACF,IAAI,CAAC;QAC7B,IAAIS,KAAK,GAAGD,OAAO,CAACE,SAAS,CAAEC,IAAI,IAAK;UACtC,OAAOA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACI,OAAO,CAACK,EAAE;QACtC,CAAC,CAAC;QACF,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB,IAAII,OAAO,GAAG;YAAE,GAAGV,MAAM,CAACI,OAAO;YAAEO,YAAY,EAAE;UAAE,CAAC;UACpDN,OAAO,CAACO,IAAI,CAACF,OAAO,CAAC;QACvB,CAAC,MAAM;UACLL,OAAO,CAACC,KAAK,CAAC,CAACK,YAAY,EAAE;QAC/B;QACA,OAAO;UAAE,GAAGZ,KAAK;UAAEF,IAAI,EAAEQ;QAAQ,CAAC;MACpC;IACA,KAAK,UAAU;MAAE;QACfH,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEH,MAAM,CAACI,OAAO,CAAC;QAClC,IAAIC,OAAO,GAAGN,KAAK,CAACF,IAAI,CAACgB,MAAM,CAAEL,IAAI,IAAK;UACxC,OAAOA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACI,OAAO;QACnC,CAAC,CAAC;QACF,OAAO;UAAE,GAAGL,KAAK;UAAEF,IAAI,EAAEQ;QAAQ,CAAC;MACpC;IACA,KAAK,cAAc;MAAE;QACnBH,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEH,MAAM,CAACI,OAAO,CAAC;QAClC,MAAM;UAAEU,MAAM;UAAEC;QAAS,CAAC,GAAGf,MAAM,CAACI,OAAO;QAC3C,MAAMC,OAAO,GAAG,CAAC,GAAGN,KAAK,CAACF,IAAI,CAAC;QAC/B,MAAMS,KAAK,GAAGD,OAAO,CAACE,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKK,MAAM,CAAC;QAC7D,IAAIR,KAAK,KAAK,CAAC,CAAC,EAAE;UAChBD,OAAO,CAACC,KAAK,CAAC,CAACK,YAAY,GACzBN,OAAO,CAACC,KAAK,CAAC,CAACK,YAAY,GAAGI,QAAQ,IAAI,CAAC;QAC/C;QACA,OAAO;UAAE,GAAGhB,KAAK;UAAEF,IAAI,EAAEQ;QAAQ,CAAC;MACpC;IACA;MACE,OAAON,KAAK;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}